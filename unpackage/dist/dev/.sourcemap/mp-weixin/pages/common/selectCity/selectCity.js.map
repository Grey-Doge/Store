{"version":3,"sources":["webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?db5d","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?d7ee","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?5e07","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?946a","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?d449","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue?351d"],"names":["data","currentCity","cityList","selectedProvince","methods","arrUnique","arr","hash","i","length","indexOf","push","pinyin","content","bubbleSort","j","charCodeAt","temp","switchProvince","event","console","log","helper","city","currentTarget","dataset","province","uni","switchTab","url","isCityChange","onLoad","that","amapPlugin","amap","AMapWX","key","getRegeo","success","res","regeocodeData","addressComponent","slice","getStorage","fail","errMsg","map","QQMapWX","getCityList","item","result","substr","sort","name","setStorage"],"mappings":"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","file":"pages/common/selectCity/selectCity.js","sourcesContent":["export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectCity.vue?vue&type=template&id=40f45c88&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectCity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectCity.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport helper from '../../../common/helper.js';\nimport QQMapWX from '../../../common/qqmap-wx-jssdk.js';\nimport amap from '../../../common/amap-wx.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentCity: '定位中...',\n\t\t\tcityList:[],\n\t\t\tselectedProvince:''\n\t\t}\n\t},\n\tmethods: {\n\t\t// 数组去重;\n\t\tarrUnique: function(arr) {\n\t\t\tvar hash = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr.indexOf(arr[i]) == i) {\n\t\t\t\t\thash.push({pinyin:arr[i],content:[]});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hash;\n\t\t},\n\t\t//冒泡排序;\n\t\tbubbleSort:function(arr){\n\t\t\tfor (let i = 0; i < arr.length-1; i++) {\n\t\t\t\tfor (let j = 0; j < arr.length-i-1; j++) {\n\t\t\t\t\tif(arr[j].pinyin.charCodeAt()>arr[j+1].pinyin.charCodeAt()){\n\t\t\t\t\t\tlet temp = arr[j];\n\t\t\t\t\t\tarr[j] = arr[j+1];\n\t\t\t\t\t\tarr[j+1] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t//切换省份;\n\t\tswitchProvince:function(event){\n\t\t\tconsole.log(event);\n\t\t\thelper.city = event.currentTarget.dataset.province;\n\t\t\tuni.switchTab({\n\t\t\t\turl:'../../index/index'\n\t\t\t})\n\t\t\thelper.isCityChange = true;\n\t\t}\n\t},\n\tonLoad: function() {\n\t\tthis.selectedProvince = helper.city;\n\t\tlet that = this;\n\t\t//实例化高德地图服务对象;\n\t\tlet amapPlugin = new amap.AMapWX({\n\t\t\tkey:'870a49b7b09c53a9c2b046056c39579e'\n\t\t})\n\t\t//调用API服务获取当前省份;\n\t\tamapPlugin.getRegeo({\n\t\t\tsuccess:function(res){\n\t\t\t\t// console.log(res);\n\t\t\t\tthat.currentCity = res[0].regeocodeData.addressComponent.province.slice(0,res[0].regeocodeData.addressComponent.city.length-1)\n\t\t\t}\n\t\t})\n\t\t//调用缓存获取省份列表;\n\t\tuni.getStorage({\n\t\t\tkey:'cityList',\n\t\t\tsuccess:function(res){\n\t\t\t\tconsole.log('调用缓存成功');\n\t\t\t\tthat.cityList = res.data;\n\t\t\t},\n\t\t\tfail:function(res){\n\t\t\t\tconsole.log('调用缓存失败,'+res.errMsg);\n\t\t\t\tconsole.log('调用API接口...');\n\t\t\t\tlet map = new QQMapWX({\n\t\t\t\t\tkey: 'GAFBZ-F6KLP-755D5-V5C4P-75SH2-5SFMG'\n\t\t\t\t});\n\t\t\t\t//调用获取城市接口;\n\t\t\t\tmap.getCityList({\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tlet arr = [];\n\t\t\t\t\t\tfor (let item in res.result[0]) {\n\t\t\t\t\t\t\t//获取所有城市的首字母;\n\t\t\t\t\t\t\tarr.push(res.result[0][item].pinyin[0].substr(0, 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//按字母顺序排序;\n\t\t\t\t\t\tarr = that.arrUnique(arr).sort();\n\t\t\t\t\t\t//按照字母分类城市;\n\t\t\t\t\t\tfor (let i = 0; i < res.result[0].length; i++) {\n\t\t\t\t\t\t\tfor (let j = 0; j < arr.length; j++) {\n\t\t\t\t\t\t\t\tif(arr[j].pinyin.indexOf(res.result[0][i].pinyin[0].substr(0, 1)) != -1){\n\t\t\t\t\t\t\t\t\tarr[j].content.push(res.result[0][i].name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//冒泡排序;\n\t\t\t\t\t\tthat.bubbleSort(arr);\n\t\t\t\t\t\tthat.cityList = arr;\n\t\t\t\t\t\t//将排好序的城市列表存入缓存,方便下次直接取用,不需要从接口获取;\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey:'cityList',\n\t\t\t\t\t\t\tdata:that.cityList,\n\t\t\t\t\t\t\tsuccess:function(){\n\t\t\t\t\t\t\t\tconsole.log(\"存入城市列表成功\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t}\n}\n","import mod from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectCity.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectCity.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./selectCity.vue?vue&type=template&id=40f45c88&\"\nimport script from \"./selectCity.vue?vue&type=script&lang=js&\"\nexport * from \"./selectCity.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectCity.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('40f45c88', component.options)\n    } else {\n      api.reload('40f45c88', component.options)\n    }\n    module.hot.accept(\"./selectCity.vue?vue&type=template&id=40f45c88&\", function () {\n      api.rerender('40f45c88', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilder_Workspace/uniapp_demo/pages/common/selectCity/selectCity.vue\"\nexport default component.exports"],"sourceRoot":""}