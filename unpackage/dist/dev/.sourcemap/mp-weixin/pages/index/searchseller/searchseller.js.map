{"version":3,"sources":["webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?ebc8","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?3929","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?7c09","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?1215","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?8531","webpack:///D:/HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue?f334"],"names":["qqMap","data","amapPlugin","amapKey","helper","qqMapKey","nearbySellers","address","city","name","street","sellerList","onLoad","that","uni","request","url","webroot","success","res","console","log","Convert","getNearBySellers","amap","AMapWX","key","QQMapWX","showLoading","title","getRegeo","hideLoading","regeocodeData","addressComponent","slice","length","fail","showModal","content","confirmText","cancelText","confirm","openSetting","onShow","township","methods","chooseLocation","showToast","chooseCity","navigateTo","calculateDistance","to","result","elements","i","distance","j","latitude","lat","longitude","lng","push","error"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;AACa;;;AAGxE;AACyI;AACzI,gBAAgB,iJAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA+nB,CAAgB,8nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8DnpB;AACA;AACA,4G,8FAhEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA,IAAIA,KAAJ,C,eACe,EACdC,IADc,kBACP,CACN,OAAO,EACNC,UAAU,EAAC,IADL,EAENC,OAAO,EAACC,gBAAOD,OAFT,EAGNE,QAAQ,EAACD,gBAAOC,QAHV,EAINC,aAAa,EAAC,EAJR,EAKNC,OAAO,EAAC,EACPC,IAAI,EAAC,EADE,EAEPC,IAAI,EAAC,EAFE,EAGPC,MAAM,EAAC,EAHA,EALF,EAUNC,UAAU,EAAC,IAVL,EAAP,CAYA,CAda,EAedC,MAAM,EAAC,kBAAU,CAEhB,IAAIC,IAAI,GAAG,IAAX,CAEAC,GAAG,CAACC,OAAJ,CAAY,EACXC,GAAG,EAACZ,gBAAOa,OAAP,GAAgB,0BADT,EAEXC,OAAO,EAAC,iBAASC,GAAT,EAAa,CACpBN,IAAI,CAACF,UAAL,GAAkBQ,GAAG,CAAClB,IAAJ,CAASA,IAA3B,CACAmB,OAAO,CAACC,GAAR,CAAYF,GAAZ,EAFoB,CAGpB;AACAf,wBAAOkB,OAAP,CAAeT,IAAI,CAACF,UAApB,EAJoB,CAKpB;;;;uDAKAE,IAAI,CAACU,gBAAL,GAEA,CAdU,EAAZ,EAkBAV,IAAI,CAACX,UAAL,GAAkB,IAAIsB,gBAAKC,MAAT,CAAgB,EACjCC,GAAG,EAACb,IAAI,CAACV,OADwB,EAAhB,CAAlB,CAGAH,KAAK,GAAG,IAAI2B,qBAAJ,CAAY,EACnBD,GAAG,EAACb,IAAI,CAACR,QADU,EAAZ,CAAR,CAKAS,GAAG,CAACc,WAAJ,CAAgB,EACfC,KAAK,EAAC,SADS,EAAhB,EAGAhB,IAAI,CAACX,UAAL,CAAgB4B,QAAhB,CAAyB,EACxBZ,OAAO,EAAC,iBAASC,GAAT,EAAa,CACpBL,GAAG,CAACiB,WAAJ,GACAX,OAAO,CAACC,GAAR,CAAY,UAAQjB,gBAAOI,IAA3B,EACAK,IAAI,CAACN,OAAL,CAAaE,IAAb,GAAoBL,gBAAOI,IAA3B,CACAK,IAAI,CAACN,OAAL,CAAaG,MAAb,GAAsBS,GAAG,CAAC,CAAD,CAAH,CAAOV,IAA7B,CACAI,IAAI,CAACN,OAAL,CAAaC,IAAb,GAAoBW,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C0B,KAA3C,CAAiD,CAAjD,EAAmDf,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C2B,MAA3C,GAAkD,CAArG,CAApB,CACA,CAPuB,EAQxBC,IAAI,EAAC,gBAAU,CACdtB,GAAG,CAACiB,WAAJ,GACAX,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACAP,GAAG,CAACuB,SAAJ,CAAc,EACbC,OAAO,EAAC,gBADK,EAEbT,KAAK,EAAC,IAFO,EAGbU,WAAW,EAAC,KAHC,EAIbC,UAAU,EAAC,IAJE,EAKbtB,OAAO,EAAC,iBAASC,GAAT,EAAa;AACpB,gBAAGA,GAAG,CAACsB,OAAP,EAAe;AACd3B,iBAAG,CAAC4B,WAAJ,CAAgB;AACfxB,uBAAO,EAAC,mBAAU;AACjBE,yBAAO,CAACC,GAAR,CAAY,WAAZ;AACA,iBAHc,EAAhB;;AAKA;AACD,WAbY,EAAd;;AAeA,OA1BuB,EAAzB;;AA4BA,GA5Ea;AA6EdsB,QAAM,EAAC,kBAAU;AAChB,QAAI9B,IAAI,GAAG,IAAX;AACA,SAAKX,UAAL,CAAgB4B,QAAhB,CAAyB;AACxBZ,aAAO,EAAC,iBAASC,GAAT,EAAa;AACpBL,WAAG,CAACiB,WAAJ;AACAX,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,eAAO,CAACC,GAAR,CAAYR,IAAI,CAACN,OAAjB;AACAM,YAAI,CAACN,OAAL,CAAaE,IAAb,GAAoBU,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCW,QAA1D;AACA/B,YAAI,CAACN,OAAL,CAAaG,MAAb,GAAsBS,GAAG,CAAC,CAAD,CAAH,CAAOV,IAA7B;AACAI,YAAI,CAACN,OAAL,CAAaC,IAAb,GAAoBW,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C0B,KAA3C,CAAiD,CAAjD,EAAmDf,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C2B,MAA3C,GAAkD,CAArG,CAApB;;AAEA,OATuB,EAAzB;;;AAYA,GA3Fa;AA4FdU,SAAO,EAAE;AACRC,kBAAc,EAAC,0BAAU;;AAExBhC,SAAG,CAACc,WAAJ,CAAgB;AACfC,aAAK,EAAC,YADS,EAAhB;;AAGA,UAAIhB,IAAI,GAAG,IAAX;AACAC,SAAG,CAACc,WAAJ,CAAgB;AACfC,aAAK,EAAC,SADS,EAAhB;;AAGA,WAAK3B,UAAL,CAAgB4B,QAAhB,CAAyB;AACxBZ,eAAO,EAAC,iBAASC,GAAT,EAAa;AACpBL,aAAG,CAACiB,WAAJ;AACAjB,aAAG,CAACiC,SAAJ,CAAc;AACblB,iBAAK,EAAC,MADO,EAAd;;AAGAT,iBAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,iBAAO,CAACC,GAAR,CAAYR,IAAI,CAACN,OAAjB;AACAM,cAAI,CAACN,OAAL,CAAaE,IAAb,GAAoBU,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCW,QAA1D;AACA/B,cAAI,CAACN,OAAL,CAAaG,MAAb,GAAsBS,GAAG,CAAC,CAAD,CAAH,CAAOV,IAA7B;AACAI,cAAI,CAACN,OAAL,CAAaC,IAAb,GAAoBW,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C0B,KAA3C,CAAiD,CAAjD,EAAmDf,GAAG,CAAC,CAAD,CAAH,CAAOa,aAAP,CAAqBC,gBAArB,CAAsCzB,IAAtC,CAA2C2B,MAA3C,GAAkD,CAArG,CAApB;AACArB,aAAG,CAACiB,WAAJ;AACA,SAZuB;AAaxBK,YAAI,EAAC,gBAAU;AACdtB,aAAG,CAACiB,WAAJ;AACAjB,aAAG,CAACuB,SAAJ,CAAc;AACbC,mBAAO,EAAC,gBADK;AAEbT,iBAAK,EAAC,IAFO;AAGbU,uBAAW,EAAC,KAHC;AAIbC,sBAAU,EAAC,IAJE;AAKbtB,mBAAO,EAAC,iBAASC,GAAT,EAAa;AACpB,kBAAGA,GAAG,CAACsB,OAAP,EAAe;AACd3B,mBAAG,CAAC4B,WAAJ,CAAgB;AACfxB,yBAAO,EAAC,mBAAU;AACjBE,2BAAO,CAACC,GAAR,CAAY,WAAZ;AACA,mBAHc,EAAhB;;AAKA;AACD,aAbY,EAAd;;AAeA,SA9BuB,EAAzB;;;AAiCA,KA3CO;AA4CR;;;;;;;AAOA2B,cAAU,EAAC,sBAAU;AACpBlC,SAAG,CAACmC,UAAJ,CAAe;AACdjC,WAAG,EAAC,oCADU,EAAf;;AAGA,KAvDO;AAwDR;;;;;;;;AAQCO,oBAAgB,EAAC,4BAAU;AAC1B,UAAIV,IAAI,GAAG,IAAX;AACAb,WAAK,CAACkD,iBAAN,CAAwB;AACvBC,UAAE,EAACtC,IAAI,CAACF,UADe;AAEvBO,eAAO,EAAC,iBAASjB,IAAT,EAAc;AACrB,cAAImD,MAAM,GAAInD,IAAI,CAACmD,MAAL,CAAYC,QAAZ,CAAqBnB,KAArB,EAAd;;AAEAd,iBAAO,CAACC,GAAR,CAAY,QAAZ;AACDD,iBAAO,CAACC,GAAR,CAAY+B,MAAZ;AACC,eAAI,IAAIE,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAACF,MAAM,CAACjB,MAAvB,EAA8BmB,CAAC,EAA/B,EAAkC;AACjC;AACA,gBAAIF,MAAM,CAACE,CAAD,CAAN,CAAUC,QAAV,GAAmB,IAApB,IAA2B,IAA9B,EAAmC;AAClC,mBAAI,IAAIC,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAAC3C,IAAI,CAACF,UAAL,CAAgBwB,MAAhC,EAAuCqB,CAAC,EAAxC,EAA2C;AAC1C,oBAAG3C,IAAI,CAACF,UAAL,CAAgB6C,CAAhB,EAAmBC,QAAnB,KAAgCL,MAAM,CAACE,CAAD,CAAN,CAAUH,EAAV,CAAaO,GAA7C,IAAoD7C,IAAI,CAACF,UAAL,CAAgB6C,CAAhB,EAAmBG,SAAnB,KAAiCP,MAAM,CAACE,CAAD,CAAN,CAAUH,EAAV,CAAaS,GAArG,EAAyG;AACxG/C,sBAAI,CAACF,UAAL,CAAgB6C,CAAhB,EAAmBD,QAAnB,GAA8BH,MAAM,CAACE,CAAD,CAAN,CAAUC,QAAxC;AACA1C,sBAAI,CAACP,aAAL,CAAmBuD,IAAnB,CAAwBhD,IAAI,CAACF,UAAL,CAAgB6C,CAAhB,CAAxB;AACA;AACA;AACD;AACD;AACD;AACDpC,iBAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,iBAAO,CAACC,GAAR,CAAYR,IAAI,CAACP,aAAjB;AACA,SArBsB;AAsBvB8B,YAAI,EAAC,cAAS0B,KAAT,EAAe;AACnB1C,iBAAO,CAACC,GAAR,CAAYyC,KAAZ;AACA,SAxBsB,EAAxB;;;AA2BA,KA7FM,EA5FK,E;;;;;;;;;;;;;AClEf;AAAA;AAAA;AAAA;AAAi4B,CAAgB,61BAAG,EAAC,C;;;;;;;;;;;ACAr5B,uC","file":"pages/index/searchseller/searchseller.js","sourcesContent":["import { render, staticRenderFns } from \"./searchseller.vue?vue&type=template&id=ee210b5e&\"\nimport script from \"./searchseller.vue?vue&type=script&lang=js&\"\nexport * from \"./searchseller.vue?vue&type=script&lang=js&\"\nimport style0 from \"./searchseller.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('ee210b5e', component.options)\n    } else {\n      api.reload('ee210b5e', component.options)\n    }\n    module.hot.accept(\"./searchseller.vue?vue&type=template&id=ee210b5e&\", function () {\n      api.rerender('ee210b5e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilder_Workspace/uniapp_demo/pages/index/searchseller/searchseller.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchseller.vue?vue&type=template&id=ee210b5e&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchseller.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchseller.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport helper from '../../../common/helper.js';\nimport amap from '../../../common/amap-wx.js';\nimport QQMapWX from '../../../common/qqmap-wx-jssdk.js';\nlet qqMap;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tamapPlugin:null,\n\t\t\tamapKey:helper.amapKey,\n\t\t\tqqMapKey:helper.qqMapKey,\n\t\t\tnearbySellers:[],\n\t\t\taddress:{\n\t\t\t\tcity:'',\n\t\t\t\tname:'',\n\t\t\t\tstreet:''\n\t\t\t},\n\t\t\tsellerList:null\n\t\t}\n\t},\n\tonLoad:function(){\n\t\t\n\t\tlet that = this;\n\t\t\n\t\tuni.request({\n\t\t\turl:helper.webroot +\"api/seller/getallsellers\",\n\t\t\tsuccess:function(res){\n\t\t\t\tthat.sellerList = res.data.data;\n\t\t\t\tconsole.log(res);\n\t\t\t\t//将精度纬度由字符串类型转换成浮点类型,方便之后调用API进行距离计算;\n\t\t\t\thelper.Convert(that.sellerList );\n\t\t\t\t/**\n\t\t\t\t * 1.获取所有卖场的信息;\n\t\t\t\t * 2.判断用户与卖场的距离,列举出距离小于1000公里的卖场;\n\t\t\t\t * \n\t\t\t\t * */\n\t\t\t\tthat.getNearBySellers();\n\t\t\t\t\n\t\t\t}\n\t\t})\n\t\t\n\t\t\n\t\tthat.amapPlugin = new amap.AMapWX({\n\t\t\tkey:that.amapKey\n\t\t});\n\t\tqqMap = new QQMapWX({\n\t\t\tkey:that.qqMapKey\n\t\t})\n\t\t\n\t\t\n\t\tuni.showLoading({\n\t\t\ttitle:'获取位置信息中'\n\t\t});\n\t\tthat.amapPlugin.getRegeo({\n\t\t\tsuccess:function(res){\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.log('当前城市:'+helper.city)\n\t\t\t\tthat.address.name = helper.city;\n\t\t\t\tthat.address.street = res[0].name;\n\t\t\t\tthat.address.city = res[0].regeocodeData.addressComponent.city.slice(0,res[0].regeocodeData.addressComponent.city.length-1);\n\t\t\t},\n\t\t\tfail:function(){\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.log('用户拒绝位置信息授权,调用接口失败');\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent:'获取商家功能需要授权位置信息',\n\t\t\t\t\ttitle:'提示',\n\t\t\t\t\tconfirmText:'去授权',\n\t\t\t\t\tcancelText:'取消',\n\t\t\t\t\tsuccess:function(res){\n\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\tsuccess:function(){\n\t\t\t\t\t\t\t\t\tconsole.log('打开设置界面...')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t},\n\tonShow:function(){\n\t\tlet that = this;\n\t\tthis.amapPlugin.getRegeo({\n\t\t\tsuccess:function(res){\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.log(res);\n\t\t\t\tconsole.log(that.address)\n\t\t\t\tthat.address.name = res[0].regeocodeData.addressComponent.township;\n\t\t\t\tthat.address.street = res[0].name;\n\t\t\t\tthat.address.city = res[0].regeocodeData.addressComponent.city.slice(0,res[0].regeocodeData.addressComponent.city.length-1);\n\t\t\t\t\n\t\t\t},\n\t\t})\n\t\t\n\t},\n\tmethods: {\n\t\tchooseLocation:function(){\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'获取位置信息中...'\n\t\t\t})\n\t\t\tlet that = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'获取位置信息中'\n\t\t\t});\n\t\t\tthis.amapPlugin.getRegeo({\n\t\t\t\tsuccess:function(res){\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'加载成功'\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tconsole.log(that.address)\n\t\t\t\t\tthat.address.name = res[0].regeocodeData.addressComponent.township;\n\t\t\t\t\tthat.address.street = res[0].name;\n\t\t\t\t\tthat.address.city = res[0].regeocodeData.addressComponent.city.slice(0,res[0].regeocodeData.addressComponent.city.length-1);\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t},\n\t\t\t\tfail:function(){\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent:'获取商家功能需要授权位置信息',\n\t\t\t\t\t\ttitle:'提示',\n\t\t\t\t\t\tconfirmText:'去授权',\n\t\t\t\t\t\tcancelText:'取消',\n\t\t\t\t\t\tsuccess:function(res){\n\t\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\t\tuni.openSetting({\n\t\t\t\t\t\t\t\t\tsuccess:function(){\n\t\t\t\t\t\t\t\t\t\tconsole.log('打开设置界面...')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t},\n\t\t/**\n\t\t * @author RustyLake\n\t\t * @ignore created in 2019-07-30\n\t\t * @version 1.0.0\n\t\t * \n\t\t * 1.选择城市,首页根据用户选择的城市不同显示该用户最近的卖场信息;\n\t\t * */\n\t\tchooseCity:function(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../../common/selectCity/selectCity'\n\t\t\t})\n\t\t},\n\t\t/**\n\t\t * @author RustyLake\n\t\t * @ignore created in 2019-07-30\n\t\t * @version 1.0.0\n\t\t * @method 获取用户附近卖场;\n\t\t * 1.获取所有卖场的信息;\n\t\t * 2.判断用户与卖场的距离,列举出距离小于1000公里的卖场;\n\t\t * */\n\t\t getNearBySellers:function(){\n\t\t\t let that = this;\n\t\t\t qqMap.calculateDistance({\n\t\t\t \tto:that.sellerList,\n\t\t\t \tsuccess:function(data){\n\t\t\t \t\tlet result =  data.result.elements.slice();\n\t\t\t \t\t\n\t\t\t \t\tconsole.log(\"result\");\n\t\t\t\t\tconsole.log(result);\n\t\t\t \t\tfor(let i = 0;i<result.length;i++){\n\t\t\t \t\t\t//若距离小于1000公里;\n\t\t\t \t\t\tif((result[i].distance/1000)<=1000){\n\t\t\t \t\t\t\tfor(let j = 0;j<that.sellerList.length;j++){\n\t\t\t \t\t\t\t\tif(that.sellerList[j].latitude === result[i].to.lat && that.sellerList[j].longitude === result[i].to.lng){\n\t\t\t \t\t\t\t\t\tthat.sellerList[j].distance = result[i].distance;\n\t\t\t \t\t\t\t\t\tthat.nearbySellers.push(that.sellerList[j]);\n\t\t\t \t\t\t\t\t\tbreak;\n\t\t\t \t\t\t\t\t}\n\t\t\t \t\t\t\t}\n\t\t\t \t\t\t}\n\t\t\t \t\t}\n\t\t\t \t\tconsole.log('附近卖场:');\n\t\t\t \t\tconsole.log(that.nearbySellers);\n\t\t\t \t},\n\t\t\t \tfail:function(error){\n\t\t\t \t\tconsole.log(error);\n\t\t\t \t}\n\t\t\t })\n\t\t\t \n\t\t }\n\t},\n\t\n}\n","import mod from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchseller.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchseller.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}